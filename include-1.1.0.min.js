/* include.js: Light and Simple dependency manager in JavaScript.
 * version: 1.1.1
 * Author Ali Najafizadeh
 * MIT Licensed.
 */
var include=function(){"use strict";function a(r,i,f){function p(){l+=1;if(l===c){var t=[];s(i,function(n){t.push(e[n])});if(h){o(r,function(){e[r]=f.apply(null,t);u.trigger(r)})}else{e[r]=f.apply(null,t);u.trigger(r)}}}var l=0,c=i.length,h=t[r]&&t[r].isGlobal;n+=c;if(!c){if(h){o(r,function(){e[r]=f();u.trigger(r)})}else{e[r]=f();u.trigger(r)}return}s(i,function(n){u.on(n,p);var r=t[n];if(!!r.isGlobal){var i=r.global;if(r.deps&&r.deps.length>0){a(n,r.deps,function(){return window[i]})}else{o(n,function(){e[n]=window[i];u.trigger(n)})}}else{o(n)}})}var e={},t={},n=0,r=function(e,n){if(t[e]&&t[e].path!==n){throw"Duplicate source name ["+e+", "+t[e]+"]"}},i=function(){var e=Array.prototype.slice.call(arguments,0);if(e.length===0||!e[0]){return}setTimeout(function(){var t=e.shift();t.apply(null,e)},13)},s=function(e,t){var n;if(e instanceof Array){if(e&&e.length>0){for(n=0;n<e.length;n+=1){t.call(null,e[n],n)}}}else{for(n in e){if(e.hasOwnProperty(n)){t.call(null,n,e[n])}}}},o=function(e){function o(e){var n=include.root,r=t[e].path||e,i=false;r=n?n+r:r;if(!s[r]){s[r]=true;r+=".js";r+=include.cache===false?"?"+(new Date).getTime():"";i=r}return i}function u(e){if(e){e.onreadystatechange=null;e.onload=null;r.removeChild(e);e=null}}function a(e,t,r){if("function"===typeof include.status){if("loaded"===r){n--}include.status({filename:e,name:t,status:r,remaining:n})}}var r=e.documentElement,s={};return function(t,n){var s=o(t),f;if(s!==false){f=e.createElement("script");f.async=true;f.setAttribute("type","text/javascript");f.onreadystatechange=function(){if(this.readyState==="loaded"&&include.autoRemove){u(f)}a(s,t,"loaded");i(n)};f.onload=function(){if(include.autoRemove){u(f)}a(s,t,"loaded");i(n)};if(include.xlink===true){f.setAttribute("xlink:href",s)}else{f.src=s}r.appendChild(f)}}}(document),u=function(){var e={};return{on:function(t,n){if(e[t]===true){i(n)}else if(!e[t]){e[t]=[];e[t].push(n)}else{e[t].push(n)}},trigger:function(t){var n=e[t];e[t]=true;s(n,function(e){i(e)})}}}();a.autoRemove=false;a.xlink=false;a.global=function(e){s(e,function(e,n){if("string"!==typeof n){var r=n.deps?n.deps:[];var i=n.global?n.global:e;t[e]={path:n.path,deps:r,isGlobal:true,global:i}}else{t[e]={path:n,deps:[],isGlobal:true,global:e}}})};a.path=function(e,n){if("string"!==typeof e){s(e,function(e,n){r(e,n);t[e]={path:n}})}else{r(e,n);t[e]={path:n}}};a.status=function(e){};a.VERSION="1.1.1";return a}();
