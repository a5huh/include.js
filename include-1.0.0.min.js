/* include.js: Light and Simple dependency manager in JavaScript.
 * version: 0.1.0
 * Author Ali Najafizadeh
 * MIT Licensed.
 */
var include=(function(){var f={},h={},g=function(i,j){if(h[i]&&h[i].path!==j){throw"Duplicate source name ["+i+", "+h[i]+"]"}},d=function(){var i=Array.prototype.slice.call(arguments,0);if(i.length===0||!i[0]){return}setTimeout(function(){var j=i.shift();j.apply(null,i)},13)},e=function(l,k){var j;if(l instanceof Array){if(l&&l.length>0){for(j=0;j<l.length;j+=1){k.call(null,l[j],j)}}}else{for(j in l){if(l.hasOwnProperty(j)){k.call(null,j,l[j])}}}},c=(function(i){var m=i.documentElement,k={};function l(p){var o=include.root,q=h[p].path||p,n=false;q=o?o+q:q;if(!k[q]){k[q]=true;q+=".js";q+=(include.cache===false)?"?"+new Date().getTime():"";n=q}return n}function j(n){if(n){n.onreadystatechange=null;n.onload=null;m.removeChild(n);n=null}}return function(o,q){var p=l(o),n;if(p!==false){n=i.createElement("script");n.async=true;n.setAttribute("type","text/javascript");n.onreadystatechange=function(){if(this.readyState==="loaded"&&include.autoRemove){j(n)}d(q)};n.onload=function(){if(include.autoRemove){j(n)}d(q)};if(include.xlink===true){n.setAttribute("xlink:href",p)}else{n.src=p}m.appendChild(n)}}}(document)),b=(function(){var i={};return{on:function(k,j){if(i[k]===true){d(j)}else{if(!i[k]){i[k]=[];i[k].push(j)}else{i[k].push(j)}}},trigger:function(k){var j=i[k];i[k]=true;e(j,function(l){d(l)})}}}());function a(m,n,o){var l=0,i=n.length,k=h[m]&&h[m].global;if(!i){if(k){c(m,function(){f[m]=o();b.trigger(m)})}else{f[m]=o();b.trigger(m)}return}function j(){l+=1;if(l===i){var p=[];e(n,function(q){p.push(f[q])});if(k){c(m,function(){f[m]=o.apply(null,p);b.trigger(m)})}else{f[m]=o.apply(null,p);b.trigger(m)}}}e(n,function(p){b.on(p,j);if(!!h[p].global){if(h[p].deps&&h[p].deps.length>0){a(p,h[p].deps,function(){return window[p]})}else{c(p,function(){f[p]=window[p];b.trigger(p)})}}else{c(p)}})}a.autoRemove=false;a.xlink=false;a.global=function(i){e(i,function(j,k){if("string"!==typeof k){h[j]={path:k.path,deps:k.deps,global:true}}else{h[j]={path:k,deps:[],global:true}}})};a.path=function(i,j){if("string"!==typeof i){e(i,function(k,l){g(k,l);h[k]={path:l}})}else{g(i,j);h[i]={path:j}}};return a}());